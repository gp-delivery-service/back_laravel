# Функционал заявок на открытие компаний

## Описание
Добавлен новый функционал для обработки заявок на открытие компаний. Пользователи могут отправлять заявки через публичное API, а администраторы и операторы могут просматривать и управлять заявками через веб-интерфейс.

## Структура базы данных

### Таблица: `new_company_requests`
- `id` - первичный ключ
- `company_name` - название компании (строка)
- `phone` - номер телефона (строка)
- `created_at` - дата создания
- `updated_at` - дата обновления

## API Endpoints

### Публичные API (без авторизации)
- `POST /api/public/company-requests` - отправка заявки

### API для администраторов и операторов
- `GET /api/owner/company-requests` - получение списка заявок с пагинацией
- `GET /api/owner/company-requests/{id}` - получение информации о заявке
- `DELETE /api/owner/company-requests/{id}` - удаление заявки

## Структура файлов

### Laravel Backend
- `database/migrations/2025_01_28_000000_create_new_company_requests_table.php` - миграция
- `app/Models/NewCompanyRequest.php` - модель
- `app/Repositories/Admin/NewCompanyRequestRepository.php` - репозиторий
- `app/Http/Controllers/Api/Admin/NewCompanyRequestController.php` - контроллер
- `routes/api.php` - маршруты

### Vue Frontend
- `src/views/pages/company-requests/CompanyRequestsPage.vue` - страница списка заявок
- `src/views/pages/company-requests/CompanyRequestModal.vue` - модальное окно просмотра заявки
- `src/api/NewCompanyRequestController.js` - API контроллер для Vue
- `src/views/components/app/sidebar/AppSidebarComponent.vue` - добавлен пункт меню
- `src/router/index.js` - добавлен маршрут
- `src/locales/ru.json` - переводы на русский
- `src/locales/tm.json` - переводы на туркменский

### Публичная форма
- `public/company-request-form.html` - HTML форма для отправки заявок

## Установка и настройка

1. Запустите миграцию:
```bash
php artisan migrate
```

2. Убедитесь, что все файлы скопированы в соответствующие директории

3. Очистите кэш (если необходимо):
```bash
php artisan config:clear
php artisan route:clear
```

## Использование

### Для пользователей
1. Откройте `http://your-domain.com/company-request-form.html`
2. Заполните форму с названием компании и телефоном
3. Нажмите "Отправить заявку"

### Для администраторов и операторов
1. Войдите в систему
2. Перейдите в раздел "Заявки" в боковом меню
3. Просматривайте список заявок с пагинацией
4. Нажмите на заявку для просмотра деталей
5. Используйте кнопку "Удалить заявку" для удаления

## Особенности реализации

- Полная интеграция с существующей архитектурой проекта
- Использование существующих компонентов и стилей
- Поддержка многоязычности (русский и туркменский)
- Адаптивный дизайн
- Валидация данных на сервере и клиенте
- Обработка ошибок и уведомления пользователю

## Безопасность

- Публичное API не требует авторизации только для отправки заявок
- Все административные операции требуют авторизации
- Валидация входных данных
- Защита от CSRF атак (встроенная в Laravel)

## Расширение функционала

В будущем можно добавить:
- Статусы заявок (новая, в обработке, одобрена, отклонена)
- Комментарии к заявкам
- Уведомления по email
- Экспорт заявок в Excel
- Фильтрация по датам
- Поиск по названию компании или телефону
