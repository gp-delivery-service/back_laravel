# üöÄ Laravel API

## –ü–æ—Ä—Ç—ã –º–æ–¥—É–ª–µ–π
- Laravel 80
- Vue 5173

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ubuntu (~/)
    - projects
        - nginx (–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ default, vue)
        - tmp (—Å—é–¥–∞ –º–æ–∂–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å —Å–±–æ—Ä–∫–∏ –¥–æ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è)
        - docker-compose.yml
        - laravel.env
        - vue.env (–Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
- –ö–æ—Ä–µ–Ω—å
    - var/www/
        - public (–¥–ª—è —Ä–∞–±–æ—Ç—ã –ª–∞—Ä–∞–≤–µ–ª)
        - vue-app (—Å–æ–±—Ä–∞–Ω–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ)

## –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—é
### Laravel

–ù–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ —Å–æ–±—Ä–∞—Ç—å —á–µ—Ä–µ–∑ –¥–æ–∫–µ—Ä

```
docker build -t laravel-api .
docker save laravel-api -o laravel-api.tar
```
–≠—Ç–∏ –∫–æ–º–∞–Ω–¥—ã —Å–æ–∑–¥–∞–¥—É—Ç ``laravel-api.tar`` —Å–±–æ—Ä–∫—É
–ï–µ –Ω—É–∂–Ω–æ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä

- –ß—Ç–æ–±—ã –≤—ã–≥—Ä—É–∑–∏—Ç—å –Ω–∞ –º–∞–∫, –Ω—É–∂–Ω–æ –æ—Ç–∫—Ä—ã—Ç—å –û–±—â–∏–π –¥–æ—Å—Ç—É–ø –í—Å–µ –∫ –ø–∞–ø–∫–µ –≥–¥–µ –ª–µ–∂–∏—Ç —Å–±–æ—Ä–∫–∞, –¥–∞–ª–µ–µ –≤ Finder - Comand + K, –≤–≤–µ—Å—Ç–∏ ```smb://<ip –∫–æ–º–ø—å—é—Ç–µ—Ä–∞>```, –≤–≤–µ—Å—Ç–∏ username –∏ –ø–∞—Ä–æ–ª—å –æ—Ç windows (Powershell - whoami)

–ü–æ—Å–ª–µ –Ω—É–∂–Ω–æ –≤—ã–≥—Ä—É–∑–∏—Ç—å —Å–±–æ—Ä–∫—É –Ω–∞ —Å–µ—Ä–≤–µ—Ä —á–µ—Ä–µ–∑ scp
```
scp ~/GEPARD/archives/laravel-api.tar ubuntu@216.250.14.206:~/projects/
```

–∞—Ä—Ö–∏–≤ –±—É–¥–µ—Ç –ª–µ–∂–∞—Ç—å –ø–æ –ø—É—Ç–∏
```
~/projects
```

—É–¥–∞–ª—è–µ–º –ø—Ä–µ–¥—ã–¥—É—â–∏–π –æ–±—Ä–∞–∑ 
```
sudo docker-compose down
sudo docker rmi laravel-api
```

–ó–∞–≥—Ä—É–∂–∞–µ–º –Ω–æ–≤—ã–π –æ–±—Ä–∞–∑ –∏ –∑–∞–ø—É—Å–∫–∞–µ–º
```
docker load -i laravel-api.tar
docker-compose up -d
docker ps -a
```

#### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ

–ö–æ–º–∞–Ω–¥–∞ –ø–µ—Ä–µ—Ö–æ–¥–∞ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª –∑–∞–ø—É—â–µ–Ω–Ω–≥–æ –æ–±—Ä–∞–∑–∞
```
sudo docker exec -it laravel bash
```

*–í—ã–π—Ç–∏ Control + D*

–í—Å–µ –∫–æ–º–∞–Ω–¥—ã –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –ø–æ—Å–ª–µ

```
sudo docker exec laravel
```

–≤—Ö–æ–¥ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –±–¥

```
sudo docker exec -it mysql mysql -u root -p

```

### Vue –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

–ù–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä–µ —Å–æ–±—Ä–∞—Ç—å
```
npm run build
```

–û—Ç–∫—Ä—ã—Ç—å –¥–æ—Å—Ç—É–ø –∫ –ø–∞–ø–∫–µ ```dist```

–£–¥–∞–ª–∏—Ç—å –ø—Ä–µ–¥—ã–¥—É—â–∏–µ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
```
sudo rm -rf ~/projects/temp/*
```
–ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å –Ω–∞ –º–∞–∫
```
scp -r ~/GEPARD/archives/dist ubuntu@216.250.14.206:~/projects/tmp/
```
–£–¥–∞–ª—è–µ–º –∏ –ø–µ—Ä–µ–º–µ—â–∞–µ–º
```
sudo rm -rf /var/www/vue-app/*
sudo cp -r ~/projects/tmp/dist/* /var/www/vue-app/
```

–ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ–º nginx
```
sudo chown -R root:root /var/www/vue-app && sudo chmod -R 755 /var/www/vue-app
docker compose restart nginx
```


....
docker build -t node-geo .
docker save -o node-geo.tar node-geo


...
docker stop node-geo
docker rm node-geo
docker rmi node-geo
docker load -i node-geo.tar
docker-compose up -d node-geo
docker ps -a

...
osm-tileserver

...
docker build -t gp-phpmyadmin .
docker save gp-phpmyadmin -o gp-phpmyadmin.tar


## –û–ø–∏—Å–∞–Ω–∏–µ —Å—Ç—Ä—É—Ç—É—Ä—ã –±–∞–ª–∞–Ω—Å–æ–≤

### –í–æ–¥–∏—Ç–µ–ª—å
- earning: –ó–∞—Ä–∞–±–æ—Ç–æ–∫ –≤–æ–¥–∏—Ç–µ–ª—è –Ω–∞–ª–∏—á–Ω—ã–º–∏, –Ω–µ –ø–æ–¥–ª–µ–∂–∏—Ç –æ–ø–µ—Ä–∞—Ü–∏—è–º, –æ–±–Ω—É–ª—è–µ—Ç—Å—è –≤–æ–¥–∏—Ç–µ–ª–µ–º –¥–ª—è —Å–±—Ä–æ—Å–∞ –ø–æ–∫–∞–∑–∞—Ç–µ–ª—è.
- earning_pending: –ó–∞—Ä–∞–±–æ—Ç–æ–∫ –≤–æ–¥–∏—Ç–µ–ª—è, –±–µ–∑–Ω–∞–ª–∏—á–Ω—ã–π, –Ω–∞—á–∏—Å–ª—è–µ—Ç—Å—è —Å–∏—Å—Ç–µ–º–æ–π. –ø–æ–¥–ª–µ–∂–∏—Ç –≤—ã–ø–ª–∞—Ç–µ —Å–æ —Å—Ç–æ—Ä–æ–Ω—ã –∞–≥—Ä–µ–≥–∞—Ç–æ—Ä–∞ –≤–æ–¥–∏—Ç–µ–ª—é.
- cash_service: –ü—Ä–æ—Ü–µ–Ω—Ç-–∫–æ–º–∏—Å—Å–∏—è –∑–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ —É—Å–ª—É–≥–∏ –¥–æ—Å—Ç–∞–≤–∫–∏, –Ω–∞–ª–∏—á–Ω—ã–µ, –ø–æ–¥–ª–µ–∂–∏—Ç –≤–æ–∑–≤—Ä–∞—Ç—É –ø—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏ –∫–∞—Å—Å—ã –≤–æ–¥–∏—Ç–µ–ª—è
- cash_client: –ù–∞–ª–∏—á–Ω—ã–µ —Å—É–º–º—ã –∑–∞–∫–∞–∑–∞ –æ—Ç –∫–ª–∏–µ–Ω—Ç–æ–≤ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏, –ø–æ–¥–ª–µ–∂–∏—Ç –≤–æ–∑–≤—Ä–∞—Ç—É –ø—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏ –∫–∞—Å—Å—ã –≤–æ–¥–∏—Ç–µ–ª—è
- cash_goods: –°—É–º–º–∞-—Å—Ç–æ–∏–º–æ—Å—Ç—å —Ç–æ–≤–∞—Ä–æ–≤ –≤ –∑–∞–∫–∞–∑–∞—Ö —É –≤–æ–¥–∏—Ç–µ–ª—è "–Ω–∞ —Ä—É–∫–∞—Ö", –ø–æ–¥–ª–µ–∂–∞—Ç –∑–∞–∫—Ä—ã—Ç–∏—é —á–µ—Ä–µ–∑ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∑–∞–∫—Ä—ã—Ç–∏—è –∑–∞–∫–∞–∑–∞
- cash_company: –ù–∞–ª–∏—á–Ω—ã–µ, –ø–æ–ª—É—á–µ–Ω—ã –≤–æ–¥–∏—Ç–µ–ª–µ–º –æ—Ç –∫–æ–º–ø–∞–Ω–∏–∏ –¥–ª—è –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è –±–∞–ª–∞–Ω—Å–∞ –∫–æ–º–ø–∞–Ω–∏–∏

### –ö–æ–º–ø–∞–Ω–∏—è (–∑–∞–≤–µ–¥–µ–Ω–∏–µ)
- credit_balance - –∫—Ä–µ–¥–∏—Ç (–¥–µ–ø–æ–∑–∏—Ç) –∫–æ–º–ø–∞–Ω–∏–∏, –≤—ã–¥–∞–Ω –∑–∞–≤–µ–¥–µ–Ω–∏—é –∞–≥—Ä–µ–≥–∞—Ç–æ—Ä–æ–º, –ø–æ–¥–ª–µ–∂–∏—Ç –∑–∞–∫—Ä—ã—Ç–∏—é —á–µ—Ä–µ–∑ —Å—É–º–º—É –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –∑–∞–∫–∞–∑–æ–≤ –æ—Ç –∫–æ–º–ø–∞–Ω–∏–∏
- agregator_side_balance - –î–æ–ª–≥ –∞–≥—Ä–µ–≥–∞—Ç–æ—Ä–∞ –ø–µ—Ä–µ–¥ –∫–æ–º–ø–∞–Ω–∏–µ–π, —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏ –∑–∞–∫–∞–∑–∞ –≤ —É—Å–ª–æ–≤–∏—è—Ö –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ–π —Å—É–º–º—ã –¥–ª—è –∑–∞–∫—Ä—ã—Ç–∏—è –¥–µ–ø–æ–∑–∏—Ç–∞ –∫–æ–º–ø–∞–Ω–∏–∏
- balance - –ë–∞–ª–∞–Ω—Å –∑–∞–≤–µ–¥–µ–Ω–∏—è –Ω–∞ –±–µ–∑–Ω–∞–ª–∏—á–Ω—É—é –æ–ø–ª–∞—Ç—É —É—Å–ª—É–≥ –¥–æ—Å—Ç–∞–≤–∫–∏, –ø–æ–ø–æ–ª–Ω—è–µ—Ç—Å—è –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–º –∏–ª–∏ –≤–æ–¥–∏—Ç–µ–ª–µ–º –ø–æ—Å—Ä–µ–¥—Å—Ç–≤–æ–º –ø–æ–ª—É—á–µ–Ω–∏—è –Ω–∞–ª–∏—á–Ω—ã—Ö –æ—Ç –∫–æ–º–ø–∞–Ω–∏–∏


## –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏

### –ü—Ä–∏–Ω—è—Ç–∏–µ –≤—ã–∑–æ–≤–∞ –≤–æ–¥–∏—Ç–µ–ª–µ–º
- –ï—Å–ª–∏ –∫—Ä–µ–¥–∏—Ç –∑–∞–≤–µ–¥–µ–Ω–∏—è –±–æ–ª—å—à–µ —á–µ–º —Å—É–º–º–∞ –≤—Å–µ—Ö –∑–∞–∫–∞–∑–æ–≤ - —Å—É–º–º–∞ –≤—Å–µ—Ö –∑–∞–∫–∞–∑–æ–≤ –≤—ã—á–∏—Ç–∞–µ—Ç—Å—è —Å –∫—Ä–µ–¥–∏—Ç–∞ –∫–æ–º–ø–∞–Ω–∏–∏ (-credit_balance)
- –ï—Å–ª–∏ –∫—Ä–µ–¥–∏—Ç –∑–∞–≤–µ–¥–µ–Ω–∏—è –º–µ–Ω—å—à–µ —á–µ–º —Å—É–º–º–∞ –≤—Å–µ—Ö –∑–∞–∫–∞–∑–æ–≤ - —Å—É–º–º–∞ –≤—Å–µ—Ö –∑–∞–∫–∞–∑–æ–≤ –ø—Ä–∏–±–∞–≤–ª—è–µ—Ç—Å—è –∫ –¥–æ–ª–≥—É –∞–≥—Ä–µ–≥–∞—Ç–æ—Ä–∞ –ø–µ—Ä–µ–¥ –∫–æ–º–ø–∞–Ω–∏–µ–π (+agregator_side_balance)
- –°—É–º–º–∞ –≤—Å–µ—Ö –∑–∞–∫–∞–∑–æ–≤ –Ω–∞—á–∏—Å–ª—è–µ—Ç—Å—è –∫ —Å—É–º–º–µ —Ç–æ–≤–∞—Ä–æ–≤ –Ω–∞ —Ä—É–∫–∞—Ö –≤–æ–¥–∏—Ç–µ–ª—è (+cash_goods)
- –ï—Å–ª–∏ –µ—Å—Ç—å –∑–∞–∫–∞–∑—ã –≤ –∫–æ—Ç–æ—Ä—ã—Ö —É–∫–∞–∑–∞–Ω–∞ –æ–ø–ª–∞—Ç–∞ —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –¥–æ—Å—Ç–∞–≤–∫–∏ –Ω–∞–ª–∏—á–Ω—ã–º–∏ —Å–æ —Å—Ç–æ—Ä–æ–Ω—ã –∑–∞–≤–µ–¥–µ–Ω–∏—è, —Ç–æ —Å—Ç–æ–∏–º–æ—Å—Ç—å –¥–æ—Å—Ç–∞–≤–∫–∏ —Ç–∞–∫–∏—Ö –∑–∞–∫–∞–∑–æ–≤
    - –Ω–∞—á–∏—Å–ª—è–µ—Ç—Å—è –∫–∞–∫ –∑–∞—Ä–∞–±–æ—Ç–æ–∫ –≤–æ–¥–∏—Ç–µ–ª—è —Å —É—á–µ—Ç–æ–º –∫–æ–º–∏—Å—Å–∏–∏ –∞–≥—Ä–µ–≥–∞—Ç–æ—Ä–∞ (+earning)
    - —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç –Ω–∞–ª–∏—á–Ω—ã–µ –∑–∞ —É—Å–ª—É–≥—É –¥–æ—Å—Ç–∞–≤–∫–∏ –≤ –∫–∞—Å—Å–µ –≤–æ–¥–∏—Ç–µ–ª—è (+cash_service)

### –ó–∞–∫—Ä—ã—Ç–∏–µ –∑–∞–∫–∞–∑–∞ –≤–æ–¥–∏—Ç–µ–ª–µ–º
- –ï—Å–ª–∏ —É–∫–∞–∑–∞–Ω–æ, —á—Ç–æ –æ–ø–ª–∞—Ç–∞ –∑–∞ —É—Å–ª—É–≥—É –¥–æ—Å—Ç–∞–≤–∫–∏ –∑–∞–∫–∞–∑–∞ —Å–æ —Å—Ç–æ—Ä–æ–Ω—ã –∫–ª–∏–µ–Ω—Ç–∞-–ø–æ–ª—É—á–∞—Ç–µ–ª—è –Ω–∞–ª–∏—á–Ω—ã–º–∏, —Ç–æ
    - –Ω–∞—á–∏—Å–ª—è–µ—Ç—Å—è –∑–∞—Ä–∞–±–æ—Ç–æ–∫ –≤–æ–¥–∏—Ç–µ–ª—è –≤ —Ä–∞–∑–º–µ—Ä–µ —Å—Ç–æ–∏–º–æ—Å—Ç–∏ —É—Å–ª—É–≥–∏ —Å —É—á–µ—Ç–æ–º –∫–æ–º–∏—Å—Å–∏–∏ –∞–≥—Ä–µ–≥–∞—Ç–æ—Ä–∞ (+earning)
    - —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç –Ω–∞–ª–∏—á–Ω—ã–µ –∑–∞ —É—Å–ª—É–≥—É –¥–æ—Å—Ç–∞–≤–∫–∏ –≤ –∫–∞—Å—Å–µ –≤–æ–¥–∏—Ç–µ–ª—è (+cash_service)
- –ï—Å–ª–∏ —É–∫–∞–∑–∞–Ω–æ, —á—Ç–æ –æ–ø–ª–∞—Ç–∞ –∑–∞ —É—Å–ª—É–≥—É –¥–æ—Å—Ç–∞–≤–∫–∏ –∑–∞–∫–∞–∑–∞ —Å –±–∞–ª–∞–Ω—Å–∞ –∑–∞–≤–µ–¥–µ–Ω–∏—è, —Ç–æ
    - –Ω–∞—á–∏—Å–ª—è–µ—Ç—Å—è –æ—Ç–ª–æ–∂–µ–Ω–Ω—ã–π –∑–∞—Ä–∞–±–æ—Ç–æ–∫ –≤–æ–¥–∏—Ç–µ–ª—è –≤ —Ä–∞–∑–º–µ—Ä–µ —Å—Ç–æ–∏–º–æ—Å—Ç–∏ —É—Å–ª—É–≥–∏ —Å —É—á–µ—Ç–æ–º –∫–æ–º–∏—Å—Å–∏–∏ –∞–≥—Ä–µ–≥–∞—Ç–æ—Ä–∞ (+earning_pending)
    - —Å—Ç–æ–∏–º–æ—Å—Ç—å —É—Å–ª—É–≥–∏ –¥–æ—Å—Ç–∞–≤–∫–∏ –∑–∞–∫–∞–∑–∞ —Å–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è —Å –±–∞–ª–∞–Ω—Å–∞ –∑–∞–≤–µ–¥–µ–Ω–∏—è (-balance)
- –ï—Å–ª–∏ —É–∫–∞–∑–∞–Ω–æ, —á—Ç–æ –æ–ø–ª–∞—Ç–∞ –∑–∞ —É—Å–ª—É–≥—É –¥–æ—Å—Ç–∞–≤–∫–∏ –∑–∞–∫–∞–∑–∞ –Ω–∞–ª–∏—á–Ω—ã–º–∏ –æ—Ç –∑–∞–≤–µ–¥–µ–Ω–∏—è –∑–∞–≤–µ–¥–µ–Ω–∏—è, —Ç–æ –ø—Ä–æ–ø—É—Å–∫–∞–µ–º –¥–µ–π—Å—Ç–≤–∏–µ, –æ—Ç—Ä–∞–±–æ—Ç–∞–Ω–æ –ø—Ä–∏ –ø—Ä–∏–Ω—è—Ç–∏–∏ –≤—ã–∑–æ–≤–∞ –≤–æ–¥–∏—Ç–µ–ª–µ–º
- –°—É–º–º–∞ –∑–∞–∫–∞–∑–∞
    - –≤—ã—á–∏—Ç–∞–µ—Ç—Å—è —Å–æ —Å—Ç–æ–∏–º–æ—Å—Ç–∏ —Ç–æ–≤–∞—Ä–æ–≤ –Ω–∞ —Ä—É–∫–∞—Ö –≤–æ–¥–∏—Ç–µ–ª—è (-cash_goods)
    - –Ω–∞—á–∏—Å–ª—è–µ—Ç—Å—è –≤ –∫–∞—Å—Å—É –≤–æ–¥–∏—Ç–µ–ª—è –∫–∞–∫ –Ω–∞–ª–∏—á–Ω—ã–µ –æ—Ç –∫–ª–∏–µ–Ω—Ç–∞-–ø–æ–ª—É—á–∞—Ç–µ–ª—è (+cash_client) 